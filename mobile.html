  <!DOCTYPE html>
  <html lang="ko">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
      <title>Jeju Mobile Weather</title>
      <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
      <style>
          body { margin: 0; padding: 10px; background-color: #121212; font-family: sans-serif; color: #fff; }
          .container { display: flex; flex-direction: column; gap: 15px; padding-bottom: 50px; width: 100%; }
          .card { background: #1e1e1e; border-radius: 12px; overflow: hidden; padding: 15px; }
          .title { font-size: 18px; font-weight: bold; margin-bottom: 10px; color: #eee; border-bottom: 1px solid #333; padding-bottom: 8px; }
          .video-box { position: relative; width: 100%; aspect-ratio: 16/9; background: #000; margin-bottom: 10px; border-radius: 8px; overflow:
  hidden; }
          video { width: 100%; height: 100%; object-fit: cover; }
          .label { position: absolute; bottom: 5px; left: 8px; background: rgba(0,0,0,0.6); padding: 4px 8px; border-radius: 4px; font-size: 12px;
  font-weight: bold; }
          .weather-row { display: flex; overflow-x: auto; gap: 0; padding-bottom: 10px; scrollbar-width: none; }
          .weather-row::-webkit-scrollbar { display: none; }
          .w-item { min-width: 60px; text-align: center; display: flex; flex-direction: column; align-items: center; }
          .w-time { font-size: 12px; color: #aaa; margin-bottom: 5px; }
          .w-temp { font-size: 14px; font-weight: bold; margin-bottom: 2px; }
          .btn { background: #d32f2f; color: white; padding: 12px; text-align: center; border-radius: 8px; text-decoration: none; font-weight: bold;
  display: block; margin-bottom: 10px; }
      </style>
  </head>
  <body>
      <div class="container">
          <a href="https://cors-anywhere.herokuapp.com/corsdemo" target="_blank" class="btn">âš ï¸ 1. ì—¬ê¸° ëˆŒëŸ¬ì„œ ê¶Œí•œ ìš”ì²­í•˜ê¸°</a>
          <div class="card">
              <div class="title">ğŸ”´ ì œì£¼ ì‹¤ì‹œê°„ CCTV</div>
              <div class="video-box"><div class="label">ğŸï¸ ìš°ë„</div><video id="v1" autoplay muted playsinline></video></div>
              <div class="video-box"><div class="label">ğŸ”ï¸ í•œë¼ì‚°</div><video id="v2" autoplay muted playsinline></video></div>
          </div>
          <div class="card">
              <div class="title">â˜€ï¸ ì˜¤ëŠ˜ì˜ ë‚ ì”¨</div>
              <div id="weather-list">ë¡œë”©ì¤‘...</div>
          </div>
      </div>
  <script>
      const API_KEY = '05988a053767a7a6cc5553d077ce7ea541c60806a0160d5ac2e9119ebe5a61ce';
      const PROXY = 'https://cors-anywhere.herokuapp.com/';
      function initCCTV() {
          const streams =
  [{id:'v1',url:'http://211.114.96.121:1935/jejusi7/11-24.stream/chunklist_w1514884533.m3u8'},{id:'v2',url:'http://119.65.216.155:1935/live/cctv03.s
  tream_360p/chunklist_w324217178.m3u8'}];
          if (Hls.isSupported()) { streams.forEach(s => { const v=document.getElementById(s.id); const h=new Hls(); h.loadSource(s.url);
  h.attachMedia(v); }); }
      }
      async function initWeather() {
          const nx=52, ny=38; const now = new Date();
          const ymd = ${now.getFullYear()}${String(now.getMonth()+1).padStart(2,'0')}${String(now.getDate()).padStart(2,'0')};
          const baseTime = now.getHours() < 2 ? "2300" : "0200";
          const baseDate = now.getHours() < 2 ? String(Number(ymd)-1) : ymd;
          try {
              const url =
  ${PROXY}https://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getVilageFcst?serviceKey=${API_KEY}&numOfRows=300&pageNo=1&dataType=JSON&base_da
  te=${baseDate}&base_time=${baseTime}&nx=${nx}&ny=${ny};
              const res = await fetch(url); const json = await res.json();
              let html = '<div class="weather-row">';
              json.response.body.items.item.forEach(i => {
                  if(i.category === 'TMP' && i.fcstDate === ymd && i.fcstTime >= "0900" && i.fcstTime <= "2100") {
                      html += <div class="w-item"><span class="w-time">${i.fcstTime.substring(0,2)}ì‹œ</span><span
  class="w-temp">${i.fcstValue}Â°</span></div>;
                  }
              });
              html += '</div>'; document.getElementById('weather-list').innerHTML = html;
          } catch(e) { document.getElementById('weather-list').innerHTML = '<div style="color:red;">ë‚ ì”¨ ë¡œë”© ì‹¤íŒ¨ (CORS ìš”ì²­ í•„ìš”)</div>'; }
      }
      initCCTV(); initWeather();
  </script>
  </body>
  </html>
